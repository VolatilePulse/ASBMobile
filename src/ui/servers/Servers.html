<b-container class="my-2 px-2">
   <b-form-group label="Server:">
      <b-input-group>
         <b-form-select id="speciesInput" v-model="name" @change="onServerChange">
            <template slot="first">
               <option :value="newServerId">--new server--</option>
            </template>
            <option v-for="(server, name) in userServers" :key="name">{{name}}</option>

            <optgroup label="Pre-Defined">
               <option v-for="(server, name) in preDefinedServers" :key="name">{{server.serverName}} </option>
            </optgroup>

            <optgroup v-if="devMode" label="Test Servers">
               <option v-for="(server, name) in testServers" :key="name">{{server.serverName}} </option>
            </optgroup>
         </b-form-select>

         <div class="pl-2"></div>

         <b-button v-if="isEditable" variant="link" v-b-modal.editNameModal>
            <b-img :src="require('assets/edit.svg')"></b-img>
         </b-button>

         <b-button class="pl-2 pr-0" v-if="canDelete" variant="link" @click="deleteServer">
            <b-img :src="require('assets/delete.svg')"></b-img>
         </b-button>
      </b-input-group>

      <div :slot="description" v-if="!isEditable">
         <small>Pre-defined server.
            <b-link variant="link" @click="copyServer">Make a copy</b-link>
            to modify it.
         </small>
      </div>
   </b-form-group>

   <!-- Modal used for editing server name -->
   <b-modal id="editNameModal" ref="editNameModal" title="Edit server name" @ok.prevent="editNameOkay"
      centered @shown="editNameShown">
      <b-form @submit.stop.prevent="editNameSubmit">
         <b-form-input id="editNameInput" type="text" v-model.trim="editName" :state="editNameValidity"></b-form-input>
         <b-form-invalid-feedback>
            Enter a server name
         </b-form-invalid-feedback>
         </div>
      </b-form>
   </b-modal>

   <b-form-group label="Options:">
      <b-form-checkbox type="checkbox" v-model="server['singlePlayer']" :disabled="!isEditable">Single Player</b-form-checkbox>
      <b-form-checkbox type="checkbox" v-model="server['classicFlyers']" disabled>Classic Flyers</b-form-checkbox>
   </b-form-group>

   <b-form-group label="Multipliers:">
      <div class="d-flex">
         <div class="d-flex-row">
            <b-row>
               <b-col class="text-center pb-2" v-b-tooltip title="...describe me...">TaM</b-col>
               <b-col class="text-center pb-2" v-b-tooltip title="...describe me...">TmM</b-col>
               <b-col class="text-center pb-2" v-b-tooltip title="...describe me...">IdM</b-col>
               <b-col class="text-center pb-2" v-b-tooltip title="...describe me...">IwM</b-col>
            </b-row>
            <b-row v-for="stat in statIndices">
               <b-col v-for="param in paramIndices" class="px-1">
                  <b-form-input type="number" class="text-center px-1 mx-0 text-primary" :placeholder="formatMult(official[stat][param])"
                     @change="setMult(stat,param,$event)" :value="server[stat][param]" :disabled="!isEditable">
                  </b-form-input>
               </b-col>
            </b-row>
         </div>
      </div>
   </b-form-group>
</b-container>
